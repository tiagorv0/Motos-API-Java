<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', system-ui, sans-serif; background: #0f1117; color: #e2e8f0; min-height: 100vh; padding: 24px; }
  h1 { text-align: center; font-size: 1.4rem; font-weight: 700; margin-bottom: 6px; color: #f8fafc; }
  .subtitle { text-align: center; color: #94a3b8; font-size: 0.85rem; margin-bottom: 28px; }
  .tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 24px; }
  .tab { padding: 10px 28px; border-radius: 40px; border: none; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.25s; background: #1e2535; color: #94a3b8; }
  .tab.ao { background: linear-gradient(135deg,#3b82f6,#1d4ed8); color:#fff; box-shadow:0 0 20px rgba(59,130,246,.4); }
  .tab.ac { background: linear-gradient(135deg,#8b5cf6,#6d28d9); color:#fff; box-shadow:0 0 20px rgba(139,92,246,.4); }
  .panel { display:none; animation: fi .35s ease; }
  .panel.on { display:block; }
  @keyframes fi { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
  .card { background:#161b27; border:1px solid #1e2d45; border-radius:18px; padding:28px; margin-bottom:20px; }
  svg { width:100%; overflow:visible; }
  .ig { display:grid; grid-template-columns:1fr 1fr; gap:14px; }
  .ic { background:#161b27; border-radius:12px; padding:16px 18px; border:1px solid #1e2d45; }
  .ic h3 { font-size:.75rem; font-weight:700; text-transform:uppercase; letter-spacing:1px; margin-bottom:8px; }
  .oa h3{color:#3b82f6;} .ca h3{color:#8b5cf6;}
  .ic li { font-size:.8rem; color:#94a3b8; display:flex; align-items:flex-start; gap:7px; margin-bottom:5px; line-height:1.4; list-style:none; }
  .g{color:#22c55e} .r{color:#ef4444}
  @media(max-width:560px){.ig{grid-template-columns:1fr}}
</style>
</head>
<body>
<h1>MicrosserviÃ§os: Orquestrado vs Coreografado</h1>
<p class="subtitle">Clique para alternar entre os padrÃµes</p>
<div class="tabs">
  <button class="tab ao" onclick="show('o',this,'ao')">ğŸ¼ Orquestrado</button>
  <button class="tab" onclick="show('c',this,'ac')">ğŸ’ƒ Coreografado</button>
</div>

<div id="o" class="panel on">
  <div class="card">
    <svg viewBox="0 0 780 400">
      <defs>
        <marker id="ab" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#3b82f6"/></marker>
        <marker id="ac2" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#0ea5e9"/></marker>
      </defs>
      <!-- Client -->
      <rect x="10" y="168" width="110" height="58" rx="12" fill="#2a1f3a" stroke="#a78bfa" stroke-width="1.5"/>
      <text x="65" y="191" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ–¥ï¸ Cliente</text>
      <text x="65" y="208" fill="#94a3b8" font-size="10" text-anchor="middle">Browser / App</text>
      <!-- Orchestrator -->
      <rect x="295" y="148" width="150" height="90" rx="14" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" filter="url(#gs)"/>
      <text x="370" y="178" fill="#e2e8f0" font-size="13" font-weight="700" text-anchor="middle">ğŸ¼ Orquestrador</text>
      <text x="370" y="196" fill="#94a3b8" font-size="10" text-anchor="middle">AWS Step Functions</text>
      <text x="370" y="210" fill="#94a3b8" font-size="10" text-anchor="middle">/ Camunda / BFF</text>
      <!-- Services -->
      <rect x="560" y="20" width="120" height="52" rx="10" fill="#1a2e40" stroke="#0ea5e9" stroke-width="1.5"/>
      <text x="620" y="42" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ“¦ Pedido</text>
      <text x="620" y="58" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>

      <rect x="560" y="100" width="120" height="52" rx="10" fill="#1a2e40" stroke="#0ea5e9" stroke-width="1.5"/>
      <text x="620" y="122" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ’³ Pagamento</text>
      <text x="620" y="138" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>

      <rect x="560" y="180" width="120" height="52" rx="10" fill="#1a2e40" stroke="#0ea5e9" stroke-width="1.5"/>
      <text x="620" y="202" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸª Estoque</text>
      <text x="620" y="218" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>

      <rect x="560" y="260" width="120" height="52" rx="10" fill="#1a2e40" stroke="#0ea5e9" stroke-width="1.5"/>
      <text x="620" y="282" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ”” NotificaÃ§Ã£o</text>
      <text x="620" y="298" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>

      <!-- State Store -->
      <rect x="308" y="272" width="125" height="44" rx="10" fill="#1a2a1a" stroke="#22c55e" stroke-width="1.5"/>
      <text x="370" y="291" fill="#e2e8f0" font-size="11" font-weight="600" text-anchor="middle">ğŸ—„ï¸ State Store</text>
      <text x="370" y="307" fill="#64748b" font-size="10" text-anchor="middle">estado do fluxo</text>

      <!-- Arrows -->
      <!-- Client â†’ Orch -->
      <line x1="120" y1="195" x2="293" y2="193" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="206" y="185" fill="#64748b" font-size="9" text-anchor="middle">1. POST /compra</text>

      <!-- Orch â†’ Pedido -->
      <path d="M445 178 Q510 178 510 46 L558 46" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="490" y="108" fill="#64748b" font-size="9" text-anchor="middle">2. criar</text>
      <path d="M558 56 Q504 56 504 188 L447 188" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>

      <!-- Orch â†’ Pagamento -->
      <path d="M445 190 L558 126" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="510" y="150" fill="#64748b" font-size="9" text-anchor="middle">3. processar</text>
      <path d="M558 138 L447 198" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>

      <!-- Orch â†’ Estoque -->
      <path d="M445 200 L558 206" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="500" y="197" fill="#64748b" font-size="9" text-anchor="middle">4. reservar</text>
      <path d="M558 218 L447 210" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>

      <!-- Orch â†’ Notif -->
      <path d="M445 210 Q510 210 510 286 L558 286" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="498" y="262" fill="#64748b" font-size="9" text-anchor="middle">5. notificar</text>

      <!-- Orch â†’ State -->
      <line x1="370" y1="238" x2="370" y2="270" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>
      <text x="390" y="258" fill="#64748b" font-size="9">salva</text>

      <!-- Orch â†’ Client return -->
      <line x1="295" y1="210" x2="122" y2="210" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>
      <text x="208" y="222" fill="#64748b" font-size="9" text-anchor="middle">6. resposta</text>

      <!-- Legend -->
      <line x1="20" y1="385" x2="48" y2="385" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#ab)"/>
      <text x="55" y="389" fill="#64748b" font-size="9" text-anchor="start">Comando direto</text>
      <line x1="170" y1="385" x2="198" y2="385" stroke="#0ea5e9" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ac2)"/>
      <text x="205" y="389" fill="#64748b" font-size="9" text-anchor="start">Resposta assÃ­ncrona</text>
    </svg>
  </div>
  <div class="ig">
    <div class="ic oa"><h3>âœ… Vantagens</h3><ul>
      <li><span class="g">â—</span>Fluxo visÃ­vel e rastreÃ¡vel num sÃ³ lugar</li>
      <li><span class="g">â—</span>Tratamento de erros e rollback centralizados</li>
      <li><span class="g">â—</span>FÃ¡cil auditar e depurar</li>
      <li><span class="g">â—</span>Controle explÃ­cito da ordem de execuÃ§Ã£o</li>
    </ul></div>
    <div class="ic oa"><h3>âš ï¸ Desvantagens</h3><ul>
      <li><span class="r">â—</span>Orquestrador Ã© ponto Ãºnico de falha</li>
      <li><span class="r">â—</span>Maior acoplamento entre serviÃ§os</li>
      <li><span class="r">â—</span>Pode virar um "god service"</li>
      <li><span class="r">â—</span>Escalabilidade mais complexa</li>
    </ul></div>
  </div>
</div>

<div id="c" class="panel">
  <div class="card">
    <svg viewBox="0 0 780 420">
      <defs>
        <marker id="ay" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#f59e0b"/></marker>
        <marker id="ap" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#8b5cf6"/></marker>
      </defs>
      <!-- Client -->
      <rect x="10" y="185" width="110" height="55" rx="12" fill="#2a1f3a" stroke="#a78bfa" stroke-width="1.5"/>
      <text x="65" y="207" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ–¥ï¸ Cliente</text>
      <text x="65" y="223" fill="#94a3b8" font-size="10" text-anchor="middle">Browser / App</text>

      <!-- Broker -->
      <rect x="295" y="175" width="165" height="75" rx="14" fill="#2d1f0a" stroke="#f59e0b" stroke-width="2"/>
      <text x="377" y="201" fill="#e2e8f0" font-size="13" font-weight="700" text-anchor="middle">âš¡ Event Broker</text>
      <text x="377" y="218" fill="#94a3b8" font-size="10" text-anchor="middle">Kafka / RabbitMQ / SQS</text>
      <text x="377" y="233" fill="#64748b" font-size="9" text-anchor="middle">Topics: pedido.criado | pagamento.ok | estoque.ok</text>

      <!-- Services -->
      <rect x="120" y="40" width="120" height="55" rx="10" fill="#1a1f35" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="180" y="62" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ“¦ Pedido</text>
      <text x="180" y="78" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>
      <text x="180" y="91" fill="#64748b" font-size="9" text-anchor="middle">publica evento</text>

      <rect x="560" y="40" width="120" height="55" rx="10" fill="#1a1f35" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="620" y="62" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ’³ Pagamento</text>
      <text x="620" y="78" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>
      <text x="620" y="91" fill="#64748b" font-size="9" text-anchor="middle">escuta + publica</text>

      <rect x="560" y="185" width="120" height="55" rx="10" fill="#1a1f35" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="620" y="207" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸª Estoque</text>
      <text x="620" y="223" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>
      <text x="620" y="236" fill="#64748b" font-size="9" text-anchor="middle">escuta + publica</text>

      <rect x="560" y="335" width="120" height="55" rx="10" fill="#1a1f35" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="620" y="357" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸ”” NotificaÃ§Ã£o</text>
      <text x="620" y="373" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>
      <text x="620" y="386" fill="#64748b" font-size="9" text-anchor="middle">escuta</text>

      <rect x="120" y="335" width="120" height="55" rx="10" fill="#1a1f35" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="180" y="357" fill="#e2e8f0" font-size="12" font-weight="600" text-anchor="middle">ğŸšš Envio</text>
      <text x="180" y="373" fill="#94a3b8" font-size="10" text-anchor="middle">Service</text>
      <text x="180" y="386" fill="#64748b" font-size="9" text-anchor="middle">escuta</text>

      <!-- Arrows -->
      <!-- Client â†’ Pedido -->
      <line x1="120" y1="205" x2="125" y2="96" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#ay)"/>
      <text x="88" y="155" fill="#64748b" font-size="9" text-anchor="middle">1. POST</text>

      <!-- Pedido â†’ Broker -->
      <path d="M240 68 Q295 68 295 195" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#ay)"/>
      <text x="248" y="132" fill="#64748b" font-size="9" text-anchor="middle">2. pedido.criado</text>

      <!-- Broker â†’ Pagamento -->
      <path d="M460 195 Q460 68 558 68" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ay)"/>
      <text x="518" y="125" fill="#64748b" font-size="9" text-anchor="middle">3. consome</text>

      <!-- Pagamento â†’ Broker -->
      <path d="M620 95 Q620 145 462 205" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#ay)"/>
      <text x="570" y="162" fill="#64748b" font-size="9" text-anchor="middle">4. pagamento.ok</text>

      <!-- Broker â†’ Estoque -->
      <line x1="460" y1="215" x2="558" y2="215" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ay)"/>
      <text x="510" y="207" fill="#64748b" font-size="9" text-anchor="middle">5. consome</text>

      <!-- Estoque â†’ Broker -->
      <path d="M620 240 Q620 270 462 240" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#ay)"/>
      <text x="565" y="278" fill="#64748b" font-size="9" text-anchor="middle">6. estoque.ok</text>

      <!-- Broker â†’ Notif -->
      <path d="M460 240 Q530 300 558 355" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ay)"/>
      <text x="530" y="320" fill="#64748b" font-size="9" text-anchor="middle">7. consome</text>

      <!-- Broker â†’ Envio -->
      <path d="M295 240 Q230 295 242 333" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ay)"/>
      <text x="218" y="305" fill="#64748b" font-size="9" text-anchor="middle">8. consome</text>

      <!-- Legend -->
      <line x1="20" y1="408" x2="48" y2="408" stroke="#f59e0b" stroke-width="2" fill="none" marker-end="url(#ay)"/>
      <text x="55" y="412" fill="#64748b" font-size="9" text-anchor="start">Publica evento</text>
      <line x1="180" y1="408" x2="208" y2="408" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#ay)"/>
      <text x="215" y="412" fill="#64748b" font-size="9" text-anchor="start">Consome evento (async)</text>
    </svg>
  </div>
  <div class="ig">
    <div class="ic ca"><h3>âœ… Vantagens</h3><ul>
      <li><span class="g">â—</span>Baixo acoplamento entre serviÃ§os</li>
      <li><span class="g">â—</span>Resiliente â€” sem ponto Ãºnico de falha</li>
      <li><span class="g">â—</span>FÃ¡cil adicionar novos consumidores</li>
      <li><span class="g">â—</span>Escala bem de forma independente</li>
    </ul></div>
    <div class="ic ca"><h3>âš ï¸ Desvantagens</h3><ul>
      <li><span class="r">â—</span>Fluxo completo difÃ­cil de visualizar</li>
      <li><span class="r">â—</span>DepuraÃ§Ã£o e rastreamento complexos</li>
      <li><span class="r">â—</span>ConsistÃªncia eventual (nÃ£o imediata)</li>
      <li><span class="r">â—</span>DependÃªncias ocultas entre eventos</li>
    </ul></div>
  </div>
</div>

<script>
function show(id, btn, cls) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('on'));
  document.getElementById(id).classList.add('on');
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('ao','ac'));
  btn.classList.add(cls);
}
</script>
</body>
</html>